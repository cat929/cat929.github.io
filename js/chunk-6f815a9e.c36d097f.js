(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f815a9e"],{"06f2":function(e,t,o){},"0e3f":function(e,t,o){"use strict";var a=o("7a23");const c={class:"hy-form"},l={class:"header"},n={class:"footer"};function r(e,t,o,r,i,s){const d=Object(a["resolveComponent"])("el-input"),p=Object(a["resolveComponent"])("el-option"),b=Object(a["resolveComponent"])("el-select"),u=Object(a["resolveComponent"])("el-date-picker"),m=Object(a["resolveComponent"])("el-form-item"),O=Object(a["resolveComponent"])("el-col"),j=Object(a["resolveComponent"])("el-row"),f=Object(a["resolveComponent"])("el-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("div",l,[Object(a["renderSlot"])(e.$slots,"header",{},void 0,!0)]),Object(a["createVNode"])(f,{"label-width":e.labelWidth},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.formItems,(t,o)=>(Object(a["openBlock"])(),Object(a["createBlock"])(O,Object(a["normalizeProps"])(Object(a["mergeProps"])({key:o},e.colLayout)),{default:Object(a["withCtx"])(()=>[t.isHidden?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,label:t.label,rules:t.rules,class:"form-item",style:Object(a["normalizeStyle"])(e.itemStyle)},{default:Object(a["withCtx"])(()=>["input"===t.type||"password"===t.type?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,modelValue:e.formData[""+t.field],"onUpdate:modelValue":o=>e.formData[""+t.field]=o,placeholder:t.placeHolder,"show-password":"password"===t.type},null,8,["modelValue","onUpdate:modelValue","placeholder","show-password"])):"select"===t.type?(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:1,modelValue:e.formData[""+t.field],"onUpdate:modelValue":o=>e.formData[""+t.field]=o,placeholder:t.placeHolder,style:{width:"100%"}},{default:Object(a["withCtx"])(()=>[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.options,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:e.value,value:e.value},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"datepicker"===t.type?(Object(a["openBlock"])(),Object(a["createBlock"])(u,Object(a["mergeProps"])({key:2,modelValue:e.formData[""+t.field],"onUpdate:modelValue":o=>e.formData[""+t.field]=o},t.otherOption,{style:{width:"100%"}}),null,16,["modelValue","onUpdate:modelValue"])):Object(a["createCommentVNode"])("",!0)]),_:2},1032,["label","rules","style"]))]),_:2},1040))),128))]),_:1})]),_:1},8,["label-width"]),Object(a["createElementVNode"])("div",n,[Object(a["renderSlot"])(e.$slots,"footer",{},void 0,!0)])])}var i=Object(a["defineComponent"])({props:{modelValue:{type:Object},labelWidth:{type:String,default:()=>"80px"},formItems:{type:Array,default:()=>[]},itemStyle:{type:Object,default:()=>({padding:"10px 40px"})},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emit:["update:modelValue"],setup(e,{emit:t}){const o=Object(a["ref"])({...e.modelValue});return Object(a["watch"])(o,e=>{t("update:modelValue",e)},{deep:!0}),{formData:o}}}),s=(o("d145"),o("6b0d")),d=o.n(s);const p=d()(i,[["render",r],["__scopeId","data-v-5b8a59ce"]]);var b=p;t["a"]=b},1341:function(e,t,o){"use strict";o("2e0f")},"2e0f":function(e,t,o){},"334c":function(e,t,o){"use strict";o("3849")},3573:function(e,t,o){"use strict";var a=o("7a23");const c={class:"page-content"},l={class:"handler"};function n(e,t,o,n,r,i){const s=Object(a["resolveComponent"])("el-button"),d=Object(a["resolveComponent"])("hy-table");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createVNode"])(d,Object(a["mergeProps"])({totalCount:e.totalCount,listData:e.pageListData},e.contentConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),Object(a["createSlots"])({headerHandler:Object(a["withCtx"])(()=>[e.isCreate?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,type:"primary",size:"medium",onClick:e.handleNewData},{default:Object(a["withCtx"])(()=>{var t;return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(null!==(t=e.contentConfig.newBtnTitle)&&void 0!==t?t:"新建数据"),1)]}),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)]),status:Object(a["withCtx"])(t=>[Object(a["createVNode"])(s,{type:t.row.enable?"success":"danger",size:"mini",plain:""},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.showStatus(t.row.enable)),1)]),_:2},1032,["type"])]),create:Object(a["withCtx"])(t=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.formatTime(t.row.createAt)),1)]),update:Object(a["withCtx"])(t=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.formatTime(t.row.updateAt)),1)]),handler:Object(a["withCtx"])(t=>[Object(a["createElementVNode"])("div",l,[e.isUpdate?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,type:"text",icon:"el-icon-edit",size:"mini",onClick:o=>e.handleEditClick(t.row)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" 编辑 ")]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0),e.isDelete?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1,type:"text",icon:"el-icon-delete",size:"mini",onClick:o=>e.handleDeleteClick(t.row)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" 删除 ")]),_:2},1032,["onClick"])):Object(a["createCommentVNode"])("",!0)])]),_:2},[Object(a["renderList"])(e.otherPropSlots,t=>({name:t.slotName,fn:Object(a["withCtx"])(o=>[t.slotName?Object(a["renderSlot"])(e.$slots,t.slotName,{key:0,row:o.row},void 0,!0):Object(a["createCommentVNode"])("",!0)])}))]),1040,["totalCount","listData","page"])])}var r=o("0613");function i(e,t){const o=Object(r["c"])(),a=o.state.login.permissions,c=`${e}:${t}`;return!!a.find(e=>-1!==e.indexOf(c))}const s={class:"hy-table"},d={class:"header"},p={class:"title"},b={class:"handler"},u={key:0,class:"footer"};function m(e,t,o,c,l,n){const r=Object(a["resolveComponent"])("el-table-column"),i=Object(a["resolveComponent"])("el-table"),m=Object(a["resolveComponent"])("el-pagination");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",s,[Object(a["createElementVNode"])("div",d,[Object(a["renderSlot"])(e.$slots,"header",{},()=>[Object(a["createElementVNode"])("div",p,Object(a["toDisplayString"])(e.title),1),Object(a["createElementVNode"])("div",b,[Object(a["renderSlot"])(e.$slots,"headerHandler",{},void 0,!0)])],!0)]),Object(a["createVNode"])(i,Object(a["mergeProps"])({data:e.listData,border:"",onSelectionChange:e.selectionChange},e.childrenProps),{default:Object(a["withCtx"])(()=>[e.showSelectColumn?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0,type:"selection",align:"center",width:"60"})):Object(a["createCommentVNode"])("",!0),e.showIndexColumn?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:1,type:"index",label:"序号",align:"center",width:"80"})):Object(a["createCommentVNode"])("",!0),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.propList,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(r,Object(a["mergeProps"])({key:t.prop},t,{align:"center","show-overflow-tooltip":""}),{default:Object(a["withCtx"])(o=>[Object(a["renderSlot"])(e.$slots,t.slotName,{row:o.row},()=>[Object(a["createTextVNode"])(Object(a["toDisplayString"])(o.row[t.prop]),1)],!0)]),_:2},1040))),128)),Object(a["renderSlot"])(e.$slots,"default",{},void 0,!0)]),_:3},16,["data","onSelectionChange"]),e.showFooter?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",u,[Object(a["renderSlot"])(e.$slots,"footer",{},()=>[Object(a["createVNode"])(m,{onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,"current-page":e.page.currentPage,"page-size":e.page.pageSize,total:e.totalCount,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])],!0)])):Object(a["createCommentVNode"])("",!0)])}var O=Object(a["defineComponent"])({props:{title:{type:String,default:"表格数据"},showIndexColumn:{type:Boolean,default:!0},showSelectColumn:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0},listData:{type:Array,default:()=>[]},propList:{type:Array,default:()=>[]},childrenProps:{type:Object,default:()=>({})},totalCount:{type:Number,default:0},page:{type:Object,default:()=>({currentPage:0,pageSize:10})}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const o=o=>{e.showSelectColumn&&t("selectionChange",o)},a=o=>{t("update:page",{...e.page,currentPage:o})},c=o=>{t("update:page",{...e.page,pageSize:o})};return{selectionChange:o,handleCurrentChange:a,handleSizeChange:c}}}),j=(o("334c"),o("6b0d")),f=o.n(j);const C=f()(O,[["render",m],["__scopeId","data-v-0825bed8"]]);var g=C,h=g,k=Object(a["defineComponent"])({components:{HyTable:h},props:{contentConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const o=i(e.pageName,"create"),c=i(e.pageName,"delete"),l=i(e.pageName,"update"),n=i(e.pageName,"query"),s=Object(r["c"])(),d=Object(a["ref"])({currentPage:1,pageSize:10});Object(a["watch"])(d,()=>b());let p={};const b=(t={})=>{n&&(p=t,s.dispatch("system/getPageListDataAction",{pageName:e.pageName,queryInfo:{offset:(d.value.currentPage-1)*d.value.pageSize,size:d.value.pageSize,...t}}))};b();const u=Object(a["computed"])(()=>s.getters["system/pageListData"](e.pageName)),m=Object(a["computed"])(()=>s.getters["system/pageListDataCount"](e.pageName)),O=Object(a["computed"])(()=>e.contentConfig.propList.filter(e=>"status"!==e.slotName&&("create"!==e.slotName&&("update"!==e.slotName&&"handler"!==e.slotName)))),j=t=>{s.dispatch("system/deletePageDataAction",{pageName:e.pageName,queryInfo:{offset:d.value.currentPage*d.value.pageSize,size:d.value.pageSize,...p},id:t.id})},f=()=>{t("newBtnClick")},C=e=>{t("editBtnClick",e)};return{pageInfo:d,pageListData:u,totalCount:m,getPageData:b,otherPropSlots:O,handleDeleteClick:j,handleEditClick:C,handleNewData:f,isCreate:o,isUpdate:l,isDelete:c}}});o("1341");const y=f()(k,[["render",n],["__scopeId","data-v-3d80aed0"]]);var v=y;t["a"]=v},3849:function(e,t,o){},4081:function(e,t,o){},"60d8":function(e,t,o){"use strict";o("4081")},b120:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var a=o("7a23");const c=()=>{const e=Object(a["ref"])(),t=t=>{var o;console.log(e.value),null===(o=e.value)||void 0===o||o.getPageData(t)},o=()=>{var t;null===(t=e.value)||void 0===t||t.getPageData()};return[e,t,o]}},d145:function(e,t,o){"use strict";o("06f2")},fe8c:function(e,t,o){"use strict";var a=o("7a23");const c={class:"btns"};function l(e,t,o,l,n,r){const i=Object(a["resolveComponent"])("el-button"),s=Object(a["resolveComponent"])("hy-form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",null,[Object(a["createVNode"])(s,Object(a["mergeProps"])(e.searchConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),{footer:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(i,{size:"medium",icon:"el-icon-refresh",onClick:e.handleResetClick},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("重置")]),_:1},8,["onClick"]),Object(a["createVNode"])(i,{type:"primary",size:"medium",icon:"el-icon-search",onClick:e.handleQueryClick},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("查询")]),_:1},8,["onClick"])])]),_:1},16,["modelValue"])])}var n=o("0e3f"),r=Object(a["defineComponent"])({components:{HyForm:n["a"]},props:{searchConfig:{type:Object,required:!0},title:{type:String,default:"高级检索"}},emits:["queryBtnClick","resetBtnClick"],setup(e,{emit:t}){var o;const c={},l=null!==(o=e.searchConfig.formItems)&&void 0!==o?o:[];for(const a of l)c[""+a.field]="";const n=Object(a["ref"])({...c}),r=()=>{for(const e in c)n.value[""+e]=c[e];t("resetBtnClick")},i=()=>{console.log({...n.value}),t("queryBtnClick",n.value)};return{formData:n,handleResetClick:r,handleQueryClick:i}}}),i=(o("60d8"),o("6b0d")),s=o.n(i);const d=s()(r,[["render",l],["__scopeId","data-v-4b8444bd"]]);var p=d;t["a"]=p}}]);
//# sourceMappingURL=chunk-6f815a9e.c36d097f.js.map