(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07b0a8be"],{"9d1a":function(e,t,l){"use strict";var a=l("7a23");const o={class:"page-modal"},n={class:"dialog-footer"};function d(e,t,l,d,i,c){const r=Object(a["resolveComponent"])("hy-form"),s=Object(a["resolveComponent"])("el-button"),p=Object(a["resolveComponent"])("el-dialog");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(p,{title:e.modalConfig.title,modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),width:"30%",center:"","destroy-on-close":""},{footer:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("span",n,[Object(a["createVNode"])(s,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("取 消")]),_:1}),Object(a["createVNode"])(s,{type:"primary",onClick:e.handleConfirmClick},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])("确 定")]),_:1},8,["onClick"])])]),default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(r,Object(a["mergeProps"])(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),null,16,["modelValue"]),Object(a["renderSlot"])(e.$slots,"default")]),_:3},8,["title","modelValue"])])}var i=l("0613"),c=l("0e3f"),r=Object(a["defineComponent"])({components:{HyForm:c["a"]},props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e){const t=Object(i["c"])(),l={},o=Object(a["ref"])({...l});Object(a["watch"])(()=>e.defaultInfo,t=>{for(const l of e.modalConfig.formItems)o.value[""+l.field]=t[""+l.field]});const n=Object(a["ref"])(!1),d=()=>{n.value=!1,Object.keys(e.defaultInfo).length?t.dispatch("system/editPageDataAction",{pageName:e.pageName,queryInfo:{...o.value,...e.otherInfo},id:e.defaultInfo.id}):t.dispatch("system/newPageDataAction",{pageName:e.pageName,queryInfo:{...o.value,...e.otherInfo}})};return{formData:o,dialogVisible:n,handleConfirmClick:d}}}),s=l("6b0d"),p=l.n(s);const f=p()(r,[["render",d]]);var u=f;t["a"]=u},a4c2:function(e,t,l){"use strict";l.r(t);var a=l("7a23");const o={class:"user"};function n(e,t,l,n,d,i){const c=Object(a["resolveComponent"])("page-search"),r=Object(a["resolveComponent"])("page-content"),s=Object(a["resolveComponent"])("page-modal");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",o,[Object(a["createVNode"])(c,{searchConfig:e.searchFormConfig,onQueryBtnClick:e.handleQueryClick,onResetBtnClick:e.handleResetClick},null,8,["searchConfig","onQueryBtnClick","onResetBtnClick"]),Object(a["createVNode"])(r,{ref:"pageContentRef",contentConfig:e.contentTableConfig,pageName:"users",onNewBtnClick:e.handleNewData,onEditBtnClick:e.handleEditData},null,8,["contentConfig","onNewBtnClick","onEditBtnClick"]),Object(a["createVNode"])(s,{ref:"pageModalRef",pageName:"users",modalConfig:e.modalConfigRef,defaultInfo:e.modalInfo},null,8,["modalConfig","defaultInfo"])])}var d=l("0613"),i=l("fe8c"),c=l("3573"),r=l("9d1a"),s=l("b120"),p=l("d8f6");const f={formItems:[{field:"name",type:"input",label:"用户名",placeHolder:"请输入用户名",rules:[]},{field:"realname",type:"input",label:"真实姓名",placeHolder:"请输入真实姓名",rules:[]},{field:"cellphone",type:"input",label:"手机号码",placeHolder:"请输入手机号码",rules:[]},{field:"enable",type:"select",label:"状态",placeHolder:"请选择状态",rules:[],options:[{label:"启用",value:1},{label:"禁用",value:0}]},{field:"createAt",type:"datepicker",label:"创建时间",rules:[],otherOption:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"100px",itemStyle:{padding:"10px 40px"},colLayout:{span:8}},u={title:"用户列表",propList:[{prop:"name",label:"用户名",minWidth:"100"},{prop:"realname",label:"真实名",minWidth:"120"},{prop:"cellphone",label:"手机号码",minWidth:"150"},{prop:"enable",label:"状态",minWidth:"100",slotName:"status"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"create"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"update"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0},m={title:"新建用户",formItems:[{field:"name",type:"input",label:"用户名",placeHolder:"请输入用户名"},{field:"realname",type:"input",label:"真实姓名",placeHolder:"请输入真实姓名",rules:[{required:!0}]},{field:"password",type:"password",label:"密码",placeHolder:"请输入密码",isHidden:!1},{field:"cellphone",type:"input",label:"电话号码",placeHolder:"请输入电话号码"},{field:"roleId",type:"select",label:"选择角色",placeHolder:"请选择角色",options:[]},{field:"departmentId",type:"select",label:"选择部门",placeHolder:"请选择部门",options:[]}],colLayout:{span:24},itemStyle:{padding:0}};var b=Object(a["defineComponent"])({name:"user",components:{PageSearch:i["a"],PageContent:c["a"],PageModal:r["a"]},setup(){const[e,t,l]=Object(s["a"])(),o=Object(d["c"])(),n=Object(a["computed"])(()=>{var e,t;const l=null===(e=m.formItems)||void 0===e?void 0:e.find(e=>"roleId"===e.field);l.options=o.state.entireRoles.map(e=>({label:e.name,value:e.id}));const a=null===(t=m.formItems)||void 0===t?void 0:t.find(e=>"departmentId"===e.field);return a.options=o.state.entireDepartments.map(e=>({label:e.name,value:e.id})),m}),i=()=>{var e;const t=null===(e=n.value.formItems)||void 0===e?void 0:e.find(e=>"password"===e.field);t.isHidden=!1},c=()=>{var e;const t=null===(e=n.value.formItems)||void 0===e?void 0:e.find(e=>"password"===e.field);t.isHidden=!0},[r,b,C,g]=Object(p["a"])(i,c);return{searchFormConfig:f,contentTableConfig:u,handleQueryClick:t,handleResetClick:l,pageContentRef:e,handleNewData:C,handleEditData:g,pageModalRef:b,modalConfigRef:n,modalInfo:r}}}),C=l("6b0d"),g=l.n(C);const h=g()(b,[["render",n]]);t["default"]=h},d8f6:function(e,t,l){"use strict";l.d(t,"a",(function(){return o}));var a=l("7a23");const o=(e,t)=>{const l=Object(a["ref"])({}),o=Object(a["ref"])(),n=()=>{l.value={},o.value&&(o.value.dialogVisible=!0),e&&e()},d=e=>{l.value={...e},o.value&&(o.value.dialogVisible=!0),t&&t(e)};return[l,o,n,d]}}}]);
//# sourceMappingURL=chunk-07b0a8be.1a5baed0.js.map