(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0663088"],{"9d1a":function(e,t,a){"use strict";var o=a("7a23");const l={class:"page-modal"},n={class:"dialog-footer"};function d(e,t,a,d,c,r){const i=Object(o["resolveComponent"])("hy-form"),p=Object(o["resolveComponent"])("el-button"),f=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(f,{title:e.modalConfig.title,modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),width:"30%",center:"","destroy-on-close":""},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",n,[Object(o["createVNode"])(p,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("取 消")]),_:1}),Object(o["createVNode"])(p,{type:"primary",onClick:e.handleConfirmClick},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("确 定")]),_:1},8,["onClick"])])]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,Object(o["mergeProps"])(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),null,16,["modelValue"]),Object(o["renderSlot"])(e.$slots,"default")]),_:3},8,["title","modelValue"])])}var c=a("0613"),r=a("0e3f"),i=Object(o["defineComponent"])({components:{HyForm:r["a"]},props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e){const t=Object(c["c"])(),a={},l=Object(o["ref"])({...a});Object(o["watch"])(()=>e.defaultInfo,t=>{for(const a of e.modalConfig.formItems)l.value[""+a.field]=t[""+a.field]});const n=Object(o["ref"])(!1),d=()=>{n.value=!1,Object.keys(e.defaultInfo).length?t.dispatch("system/editPageDataAction",{pageName:e.pageName,queryInfo:{...l.value,...e.otherInfo},id:e.defaultInfo.id}):t.dispatch("system/newPageDataAction",{pageName:e.pageName,queryInfo:{...l.value,...e.otherInfo}})};return{formData:l,dialogVisible:n,handleConfirmClick:d}}}),p=a("6b0d"),f=a.n(p);const s=f()(i,[["render",d]]);var m=s;t["a"]=m},cacb:function(e,t,a){"use strict";a.r(t);var o=a("7a23");const l={class:"department"};function n(e,t,a,n,d,c){const r=Object(o["resolveComponent"])("page-search"),i=Object(o["resolveComponent"])("page-content"),p=Object(o["resolveComponent"])("page-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(r,{searchConfig:e.searchFormConfig},null,8,["searchConfig"]),Object(o["createVNode"])(i,{pageName:"department",ref:"pageContentRef",contentConfig:e.contentTableConfig,onNewBtnClick:e.handleNewData,onEditBtnClick:e.handleEditData},null,8,["contentConfig","onNewBtnClick","onEditBtnClick"]),Object(o["createVNode"])(p,{ref:"pageModalRef",defaultInfo:e.modalInfo,modalConfig:e.modalConfigRef,pageName:"department"},null,8,["defaultInfo","modalConfig"])])}var d=a("0613"),c=a("fe8c"),r=a("3573"),i=a("9d1a"),p=a("b120"),f=a("d8f6");const s={formItems:[{field:"name",type:"input",label:"部门名称",placeHolder:"请输入部门名称",rules:[]},{field:"leader",type:"input",label:"部门领导",placeHolder:"请输入部门领导",rules:[]},{field:"createAt",type:"datepicker",label:"创建时间",rules:[],otherOption:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"100px",itemStyle:{padding:"10px 40px"},colLayout:{span:8}},m={title:"部门列表",propList:[{prop:"name",label:"部门名称",minWidth:"120"},{prop:"leader",label:"部门领导",minWidth:"120"},{prop:"parentId",label:"上级部门",minWidth:"120"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"create"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"update"},{label:"操作",minWidth:"120",slotName:"handler"}],showIndexColumn:!0,showSelectColumn:!0},u={title:"新建部门",formItems:[{field:"name",type:"input",label:"部门名称",placeHolder:"请输入部门名称"},{field:"parentId",type:"select",label:"上级部门",placeHolder:"请选择上级部门",options:[]},{field:"leader",type:"input",label:"领导名称",placeHolder:"请输入领导名称"}],colLayout:{span:24},itemStyle:{padding:0}};var b=Object(o["defineComponent"])({name:"department",components:{PageSearch:c["a"],PageContent:r["a"],PageModal:i["a"]},setup(){const[e,t,a]=Object(p["a"])(),l=Object(d["c"])(),n=Object(o["computed"])(()=>{var e;const t=null===(e=u.formItems)||void 0===e?void 0:e.find(e=>"parentId"===e.field);return t.options=l.state.entireDepartments.map(e=>({label:e.name,value:e.id})),u}),[c,r,i,b]=Object(f["a"])();return{searchFormConfig:s,contentTableConfig:m,modalConfigRef:n,pageContentRef:e,handleQueryClick:t,handleResetClick:a,modalInfo:c,pageModalRef:r,handleNewData:i,handleEditData:b}}}),g=a("6b0d"),C=a.n(g);const O=C()(b,[["render",n]]);t["default"]=O},d8f6:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("7a23");const l=(e,t)=>{const a=Object(o["ref"])({}),l=Object(o["ref"])(),n=()=>{a.value={},l.value&&(l.value.dialogVisible=!0),e&&e()},d=e=>{a.value={...e},l.value&&(l.value.dialogVisible=!0),t&&t(e)};return[a,l,n,d]}}}]);
//# sourceMappingURL=chunk-d0663088.75fd27ff.js.map